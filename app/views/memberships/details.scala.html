@(membershipPerson: (models.memberships.Membership,models.persons.Person,models.persons.Address, List[models.finance.Account], Option[models.persons.LegalProtectionInsurance]))

@main("Welcome to Play 2.0") {
	<hr />
	<h1><span id="membershipid">@membershipPerson._1.membershipId</span> <span>@membershipPerson._2.lastname, @membershipPerson._2.firstname</span></h1>
	<hr />

	<div class="span-12">
		<fieldset>
			<legend>Mitgliedsdaten</legend>
			<div class="span-2"><label>Anrede:</label></div>
			<div class="span-3"><span id="salutation">@membershipPerson._2.salutation</span></div>
			<div class="span-2"><label>Titel:</label></div>
			<div class="span-2"><span id="title">@membershipPerson._2.title</span></div><br />
			<div class="span-2"><label>Vorname:</label></div>
			<div class="span-3 print"><span id="firstname">@membershipPerson._2.firstname</span></div><br />
			<div class="span-2"><label>Zuname:</label></div>
			<div class="span-3"><span id="lastname">@membershipPerson._2.lastname</span></div><br />
			<div class="span-2"><label>Geburtstag:</label></div>
			<div class="span-3"><span id="birthday">@membershipPerson._2.birthday</span></div><br />

			<div class="span-2"><button id="change-person">Ändern</button></div>
		</fieldset>
	</div>

	<div class="span-12 last">
		<fieldset>
			<legend>Adresse</legend>
			<div class="span-2"><label>Straße:</label></div>
			<div class="span-3"><span id="street">@membershipPerson._3.street</span> <span id="number">@membershipPerson._3.number</span></div> <br />
			<div class="span-2"><label>PLZ:</label></div>
			<div class="span-2"><span id="zip">@membershipPerson._3.zip</span></div> <br />
			<div class="span-2"><label>Ort:</label></div>
			<div class="span-2"><span id="city">@membershipPerson._3.city</city></div> <br />
			<div class="span-2"><label>RSV seit:</label></div>
			<div class="span-2">@(membershipPerson._5 match {
				case Some(lpi) => lpi.begin_rsv
				case None => "" })</div>
			<div class="span-1"><label>bis:</label></div>
			<div class="span-2">@(membershipPerson._5 match {
				case Some(lpi) => lpi.end_rsv
				case None => "" })</div><br />
			<div class="span-2"><button id="change-address">Ändern</button></div>
		</fieldset>
	</div>

	<div class="span-12">
		<fieldset>
			<legend>Mitgliedschaft</legend>
			<div class="span-2"><label>Eintritt:</label></div>
			<div class="span-2">@membershipPerson._1.begin_ms</div>
			<div class="span-2"><label>Austritt:</label></div> 
			<div class="span-2">@membershipPerson._1.end_ms</div> <br />
			<div class="span-2"><label>Beitr.Grp.:</label></div>
			<div class="span-2">@membershipPerson._1.contrib</div>
		</fieldset>
	</div>

	<div class="span-12 last">
		<fieldset>
			<legend>Kontaktdaten</legend>
			<div class="span-3"><label>Telefon privat:</label></div>
			<div class="span-3">030 123 2345</div> <br />
			<div class="span-3"><label>Telefon dienstl.:</label></div>
			<div class="span-3">030 221 4432</div> <br />
			<div class="span-3"><label>Mobil:</label></div>
			<div class="span-3">0171 223 3212</div>
		</fieldset>
	</div>

	<div class="span-12">
		<fieldset>
			<legend>Konto</legend>

		    <table id="accounts" summary="This is the summary text for this table."  border="0" cellspacing="0" cellpadding="0">
		    	<caption><em>Einzahlungen und Belastungen</em></caption>
		        <thead>
		        	<tr>
		            	<th class="span-4">Datum</th>
		            	<th class="span-4">Betreff</th>
		              	<th class="span-4 last" ><div align="right">Betrag</div></th>
		            </tr>
		        </thead>
		        <tfoot>
		        	<tr>
		            	<td colspan="3"><div align="right">@membershipPerson._4.foldLeft(scala.math.BigDecimal(0))((f:scala.math.BigDecimal,p:models.finance.Account) => f+p.amount)</div></td>
		            </tr>
		        </tfoot>
		        <tbody>
					@for(posting <- membershipPerson._4) {
			            <tr>
		    	          <td>@posting.posted</td>
		        	      <td>@posting.postingtext</td>
		            	  <td><div align="right">@posting.amount</div></td>
		            	</tr>
		            }
		         </tbody>
		    </table>
		</fieldset>
	</div>

	<div class="span-12 last">
		<fieldset>
			<legend>Memo</legend>
			<p>Dies soll das Memo werden</p>
			<label></label>  <br />		
			<label></label>  <br />		
			<label></label>  <br />		
			<label></label>  <br />		
			<label></label>  <br />		
		</fieldset>	
	</div>


	<div class="span-10" >
		<a href="@routes.Memberships.list()">Zurück</a>
	</div>
	<div class="span-14 last" />

<div id="change-person-dialog" title="Personendaten ändern">
  <!-- p class="validateTips">All form fields are required.</p -->

  <form>
  <fieldset>
    <label for="salutation_input">Anrede</label>
    <input type="text" name="salutation" id="salutation_input" class="text ui-widget-content ui-corner-all" value="@membershipPerson._2.salutation"/>
    <label for="title_input">Titel</label>
    <input type="text" name="title_input" id="title_input" class="text ui-widget-content ui-corner-all" value="@membershipPerson._2.title"/>
    <label for="firstname_input">Vorname</label>
    <input type="text" name="firstname" id="firstname_input" value="@membershipPerson._2.firstname" class="text ui-widget-content ui-corner-all" />
    <label for="lastname_input">Zuname</label>
    <input type="text" name="lastname" id="lastname_input" value="@membershipPerson._2.lastname" class="text ui-widget-content ui-corner-all" />
    <label for="birthday_input">Geburtstag</label>
    <input type="text" name="birthday_input" id="birthday_input" value="@membershipPerson._2.birthday" class="date ui-widget-content ui-corner-all" />
  </fieldset>
  </form>
</div>

<div id="change-address-dialog" title="Adresse ändern">
  <p class="validateTips">All form fields are required.</p>

  <form>
  <fieldset>
    <label for="street_input">Straße</label>
    <input type="text" name="street" id="street_input" class="text ui-widget-content ui-corner-all" value="@membershipPerson._3.street"/>
    <label for="number_input">Hausnummer</label>
    <input type="text" name="number_input" id="number_input" value="@membershipPerson._3.number" class="text ui-widget-content ui-corner-all" />
    <label for="zip_input">PLZ</label>
    <input type="text" name="zip_input" id="zip_input" value="@membershipPerson._3.zip" class="text ui-widget-content ui-corner-all" />
    <label for="city_input">Ort</label>
    <input type="text" name="city_input" id="city_input" value="@membershipPerson._3.city" class="text ui-widget-content ui-corner-all" />
  </fieldset>
  </form>
</div>

}